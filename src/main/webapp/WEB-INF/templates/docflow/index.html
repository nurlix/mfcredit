<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>MFLoan | Documents</title>
	<div th:replace="fragments/header :: header-css" />
</head>
<body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid">
	<!-- BEGIN HEADER -->
	<div th:replace="layout :: header-top" />
	<!-- END HEADER -->
	<!-- BEGIN CONTAINER -->
	<div class="page-container">
		<!-- BEGIN SIDEBAR -->
		<div th:replace="layout :: page-container-sidebar" />
		<!-- END SIDEBAR -->
		<!-- BEGIN CONTENT -->
		<div class="page-content-wrapper">
			<!-- BEGIN CONTENT BODY -->
			<div class="page-content">
				<!-- BEGIN PAGE HEADER-->
				<div class="page-bar">
					<ul class="page-breadcrumb">
						<li><i class="icon-home"></i> <a th:href="@{/}">Home</a> <i class="fa fa-angle-right"></i></li><li><span>Document Flow</span></li>
					</ul>
				</div>
				<!-- END PAGE HEADER-->

				<div class="row">
					<div class="col-md-12">

						<!-- Begin of Docflow content -->
						<div class="portlet light portlet-fit">
							<div class="portlet-title">
								<div class="caption">
									<i class="icon-settings font-green"></i> <span class="caption-subject font-green sbold uppercase">Document Management</span>
								</div>
								<div class="actions">
									<a class="btn red" data-toggle="modal" href="#newDocument"><i class="glyphicon glyphicon-paperclip"></i> Add </a>
								</div>
							</div>
							<div class="portlet-body">
								<div class="card">
									<div class="table-scrollable table-scrollable-borderless">
										<table class="table table-hover table-light">
											<thead>
												<tr>
													<th>Title</th>
													<th>Description</th>
													<th>Edit</th>
													<th>Delete</th>
												</tr>
											</thead>
											<tbody>
												<statecheck th:if="${#lists.isEmpty(documents)}">
													<tr class="no-records-found" style="text-align: center;">
														<td colspan="8">No matching records found</td>
													</tr>
												</statecheck>
												<tr th:each="document : ${documents}">
													<td th:text="${document.title}">Title body</td>
													<td th:text="${document.description}">Description body</td>
													<td><a class="btn btn-outline btn-circle btn-sm blue" data-toggle="modal" th:href="'#document' + ${document.id}">Edit</a></td>
													<td>
														<form th:action="@{'/docflow/remove/' + ${document.id}}" method="post" onsubmit="return confirm('Are you sure?') ? true : false;">
															<input hidden="true" type="text" name="id" th:value="${document.id}" />
															<button type="submit" class="btn btn-outline btn-circle dark btn-sm red">Delete</button>
														</form>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
						<!-- End of Docflow content -->

						<!-- New Document -->
						<div class="modal fade bs-modal-lg" id="newDocument" tabindex="-1" role="dialog" aria-hidden="true">
							<div class="modal-dialog modal-lg">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
										<h4 class="modal-title">Save Document</h4>
									</div>
									<form th:action="@{/docflow/add}" class="form-horizontal" method="post">
										<div class="portlet-body">
											<div class="form-body">
												<div class="alert alert-danger display-hide">
													<button class="close" data-close="alert"></button> You have some form errors. Please check below.
												</div>

												<div class="form-group  margin-top-20">
													<label class="control-label col-md-3">Document Title<span class="required"> * </span></label>
													<div class="col-md-4">

														<div class="input-icon right">
															<i class="fa"></i>
															<input hidden="true" type="text" th:value="${document.id}"/>
															<input type="text" class="form-control" name="title" th:value="${document.title}"/>
														</div>
													</div>
												</div>
												<div class="form-group  margin-top-20">
													<label class="control-label col-md-3">Document description<span class="required"> * </span></label>
													<div class="col-md-4">
														<div class="input-icon right">
															<i class="fa"></i>
															<input type="text" class="form-control" name="description" th:value="${document.description}"/>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div class="modal-footer">
											<button type="button" class="btn dark btn-outline" data-dismiss="modal">Cancel</button>
											<button type="submit" class="btn green">Save</button>
										</div>
									</form>
								</div>
							</div>
						</div>
						<!-- END Create modal for a new entity -->

						<!-- Edit Document -->
						<state th:each="d : ${documents}">
							<div class="modal fade" th:id="'document' + ${d.id}" tabindex="-1" role="basic" aria-hidden="true">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
											<h4 class="modal-title">Save Document</h4>
										</div>
										<form th:action="@{/docflow/add}" class="form-horizontal" method="post">
											<div class="portlet-body">
												<div class="form-body">
													<div class="alert alert-danger display-hide">
														<button class="close" data-close="alert"></button>
														You have some form errors. Please check below.
													</div>
													<div class="form-group  margin-top-20">
														<label class="control-label col-md-3">Document title <span class="required"> * </span></label>
														<div class="col-md-4">
															<input hidden="true" type="text" name="id" th:value="${d.id}"/>
															<div class="input-icon right">
																<i class="fa"></i>
																<input type="text" class="form-control" name="title" th:value="${d.title}"/>
															</div>
														</div>
													</div>
													<div class="form-group  margin-top-20">
														<label class="control-label col-md-3">Document description <span class="required"> * </span></label>
														<div class="col-md-4">
															<div class="input-icon right">
																<i class="fa"></i>
																<input type="text" class="form-control" name="description" th:value="${d.description}"/>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn dark btn-outline" data-dismiss="modal">Cancel</button>
												<button type="submit" class="btn green">Save</button>
											</div>
										</form>
									</div>
								</div>
							</div>
						</state>
						<!-- END Create modal for each state -->


					</div>
				</div>
				<div class="row">

					<!-- Document type -->
					<div class="col-md-6">
						<div class="portlet light portlet-fit">
							<div class="portlet-title">
								<div class="caption">
									<span class="caption-subject font-red sbold uppercase">Document type</span>
								</div>
								<div class="tools">
									<a href="javascript:;" class="expand"> </a>
								</div>
							</div>
							<div class="portlet-body" style="display:none">
								<div class="table-toolbar">
									<div class="row">
										<div class="col-md-6">
											<div class="btn-group">
												<a class="btn red" data-toggle="modal" href="#newDocumentType"> Add New Document Type <i class="fa fa-plus"></i></a>
											</div>
										</div>
									</div>
								</div>
								<div class="table-scrollable table-scrollable-borderless">
									<table class="table table-hover table-light"
										   id="entityLists">
										<thead>
										<tr>
											<th>Id</th>
											<th>Name</th>
											<th>Edit</th>
											<th>Delete</th>
										</tr>
										</thead>

										<tbody>
										<statecheck th:if="${#lists.isEmpty(documentTypes)}">
											<tr class="no-records-found" style="text-align: center;">
												<td colspan="8">No matching records found</td>
											</tr>
										</statecheck>
										<state th:each="e : ${documentTypes}">
											<tr class="clickable-row">
												<td th:text="${e.id}"></td>
												<td th:text="${e.name}"></td>
												<td><a class="btn btn-outline btn-circle btn-sm blue" data-toggle="modal" th:href="'#docTypes' + ${e.id}">Edit</a></td>
												<td>
													<form th:action="@{'/docflow/documentType/remove/' + ${e.id}}" method="post" onsubmit="return confirm('Are you sure?') ? true : false;">
														<input hidden="true" type="text" id="pbdocumentTypeId" name="id" th:value="${e.id}" />
														<button type="submit" class="btn btn-outline btn-circle dark btn-sm red">Delete</button>
													</form>
												</td>
											</tr>
										</state>
										</tbody>
									</table>
								</div>

								<!-- New Document Type -->
								<div class="modal fade bs-modal-lg" id="newDocumentType" tabindex="-1" role="dialog" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
												<h4 class="modal-title">Save Document Type</h4>
											</div>
											<form th:action="@{/docflow/documentType/add}" class="form-horizontal" method="post">
												<div class="portlet-body">
													<div class="form-body">
														<div class="alert alert-danger display-hide">
															<button class="close" data-close="alert"></button> You have some form errors. Please check below.
														</div>
														<div class="form-group  margin-top-20">
															<label class="control-label col-md-3">Document Type name
																<span class="required"> * </span>
															</label>
															<div class="col-md-4">
																<input hidden="true" type="text" id="mbdocumentTypeId" name="id" th:value="${documentType.id}"/>
																<div class="input-icon right">
																	<i class="fa"></i>
																	<input type="text" class="form-control" name="name" th:value="${documentType.name}"/>
																</div>
															</div>
														</div>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn dark btn-outline" data-dismiss="modal">Cancel</button>
													<button type="submit" class="btn green">Save</button>
												</div>
											</form>
										</div>
									</div>
								</div>
								<!-- END Create modal for a new entity -->

								<!-- Edit Document Type -->
								<state th:each="s : ${documentTypes}">
									<div class="modal fade" th:id="'docTypes' + ${s.id}" tabindex="-1" role="basic" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
													<h4 class="modal-title">Save Document Type</h4>
												</div>
												<form th:action="@{/docflow/documentType/add}" class="form-horizontal" method="post">
													<div class="portlet-body">
														<div class="form-body">
															<div class="alert alert-danger display-hide">
																<button class="close" data-close="alert"></button>
																You have some form errors. Please check below.
															</div>
															<div class="form-group  margin-top-20">
																<label class="control-label col-md-3">Name <span class="required"> * </span>
																</label>
																<div class="col-md-4">
																	<input hidden="true" type="text" id="id" name="id" th:value="${s.id}"/>
																	<div class="input-icon right">
																		<i class="fa"></i>
																		<input type="text" class="form-control" name="name" th:value="${s.name}"/>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn dark btn-outline" data-dismiss="modal">Cancel</button>
														<button type="submit" class="btn green">Save</button>
													</div>
												</form>
											</div>
										</div>
									</div>
								</state>
								<!-- END Create modal for each state -->

							</div>
						</div>
					</div>

					<!-- Document Subtype -->
					<div class="col-md-6">
						<div class="portlet light portlet-fit">
							<div class="portlet-title">
								<div class="caption">
									<span class="caption-subject font-red sbold uppercase">Document Subtype</span>
								</div>
								<div class="tools">
									<a href="javascript:;" class="expand"> </a>
								</div>
							</div>
							<div class="portlet-body" style="display:none">
								<div class="card">
									<div class="table-scrollable table-scrollable-borderless">

									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
			<!-- END CONTENT BODY -->
		</div>
		<!-- END CONTENT -->
		<!-- <div th:replace="layout :: page-container-quick-sidebar"/> -->
	</div>
	<!-- END CONTAINER -->
	<div th:replace="layout :: footer" />
	<div th:replace="fragments/footer :: footer-js" />
	<script th:src="@{/assets/pages/scripts/ui-modals.min.js}" type="text/javascript"></script>
	<script th:src="@{/assets/pages/scripts/form-validation.min.js}" type="text/javascript"></script>
</body>
</html>